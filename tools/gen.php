<?php

if ($argc < 2) die("Usage: " . $argv[0] . " <stc> <?dst>\n");
$src = $argv[1];
$dst = null;
if ($argc > 2)
  $dst = $argv[2];

// The order is important, longest first
$words = [
  [
    'Acacia Logs' => 'Akáciarönkök',
    'Acacia Log' => 'Akáciarönk',
    'Acacia Planks' => 'Akáciadeszka',
    'Acacia Leaves' => 'Akácialevelek',
    'Acacia Wood' => 'Akáciablokk',
    'Acacia' => 'Akáciafa',
    'Crimson Stems' => 'Karmazsin tönkök',
    'Crimson Stem' => 'Karmazsin tönk',
    'Crimson Planks' => 'Karmazsin deszka',
    'Crimson Nylium' => 'Karmazsin nylium',
    'Crimson Hyphae' => 'Karmazsin gombafonalak',
    'Crimson Fungus' => 'Karmazsin gomba',
    'Crimson' => 'Karmazsin',
    'Warped Stems' => 'Torz tönkök',
    'Warped Stem' => 'Torz tönk',
    'Warped Planks' => 'Torz deszka',
    'Warped Nylium' => 'Torz nylium',
    'Warped Hyphae' => 'Torz gombafonalak',
    'Warped Wart Blocks' => 'Torz bibircsókblokkok',
    'Warped Wart Block' => 'Torz bibircsókblokk',
    'Warped Fungus' => 'Torz gomba',
    'Warped' => 'Torz',
    'Dried Kelp Blocks' => 'Szárított hínárblokkok',
    'Dried Kelp Block' => 'Szárított hínárblokk',
    'Kelp' => 'Hínár',
    'Bamboo Block' => 'Bambuszblokk',
    'Bamboo Mosaic' => 'Bambuszmozaik',
    'Bamboo Door' => 'Bambuszajtó',
    'Bamboo Fence' => 'Bambuszkerítés',
    'Bamboo Planks' => 'Bambuszdeszka',
    'Bamboo Slab' => 'Bambuszlap',
    'Bamboo Stairs' => 'Bambuszlépcső',
    'Bamboo Sapling' =>  'Bambuszhajtás',
    'Bamboo' => 'Bambusz',
    'Cherry Logs' => 'Cseresznyefarönkök',
    'Cherry Log' => 'Cseresznyefarönk',
    'Cherry Planks' => 'Cseresznyefa deszka',
    'Cherry Leaves' => 'Cseresznyefa-levelek',
    'Cherry Wood' => 'Cseresznyefablokk',
    'Cherry' => 'Cseresznyefa',
    'Dark Oak Logs' => 'Sötéttölgy-rönkök',
    'Dark Oak Log' => 'Sötéttölgy-rönk',
    'Dark Oak Planks' => 'Sötéttölgy deszka',
    'Dark Oak Leaves' => 'Sötéttölgy-levelek',
    'Dark Oak Wood' => 'Sötéttölgyblokk',
    'Dark Oak' => 'Sötéttölgy',
    'Oak Logs' => 'Tölgyfarönkök',
    'Oak Log' => 'Tölgyfarönk',
    'Oak Planks' => 'Tölgydeszka',
    'Oak Leaves' => 'Tölgylevelek',
    'Oak Wood' => 'Tölgyfablokk',
    'Oak' => 'Tölgyfa',
    'Birch Logs' => 'Nyírfarönkök',
    'Birch Log' => 'Nyírfarönk',
    'Birch Planks' => 'Nyírfa deszka',
    'Birch Leaves' => 'Nyírfalevelek',
    'Birch Wood' => 'Nyírfablokk',
    'Birch' => 'Nyírfa',
    'Spruce Logs' => 'Fenyőrönkök',
    'Spruce Log' => 'Fenyőrönk',
    'Spruce Planks' => 'Fenyődeszka',
    'Spruce Leaves' => 'Fenyőlevelek',
    'Spruce Wood' => 'Fenyőblokk',
    'Spruce' => 'Fenyőfa',
    'Jungle Logs' => 'Dzsungelrönkök',
    'Jungle Log' => 'Dzsungelrönk',
    'Jungle Planks' => 'Dzsungelfa deszka',
    'Jungle Leaves' => 'Dzsungelfalevelek',
    'Jungle Wood' => 'Dzsungelfablokk',
    'Jungle' => 'Dzsungelfa',
    'Mangrove Logs' => 'Mangroverönkök',
    'Mangrove Log' => 'Mangroverönk',
    'Mangrove Planks' => 'Mangrovedeszka',
    'Mangrove Leaves' => 'Mangrovelevelek',
    'Mangrove Wood' => 'Mangroveblokk',
    'Mangrove Roots' => 'Mangrovegyökerek',
    'Mangrove Planks' => 'Mangrovedeszka',
    'Carpets' => 'Szőnyegek',
    'Carpet' => 'Szőnyeg',
    'Concrete Powder' => 'Szárazbeton',
    'Concrete' => 'Beton',
    'Wool' => 'Gyapjú',
    'Glass Panes' => 'Üveglapok',
    'Glass Pane' => 'Üveglap',
    'Leaded Glass' => 'Ólomüveg',
    'Glass' => 'Üveg',
    'Terracotta' => 'Terrakotta',
    'Raw Copper Blocks' => 'Nyersrézblokkok',
    'Raw Copper Block' => 'Nyersrézblokk',
    'Raw Iron Blocks' => 'Nyersvasblokkok',
    'Raw Iron Block' => 'Nyersvasblokk',
    'Raw Gold Blocks' => 'Nyersaranyblokkok',
    'Raw Gold Block' => 'Nyersaranyblokk',
    'Raw Copper' => 'Nyersréz',
    'Raw Iron' => 'Nyersvas',
    'Raw Gold' => 'Nyersarany',
    'Raw' => 'Nyers',
    'Waxed Exposed Copper Block' => 'Viaszolt Megviselt Rézblokk',
    'Waxed' => 'Viaszolt',
    'Weathered Copper' => 'Viharvert Rézblokk',
    'Weathered' => 'Viharvert',
    'Oxidized Copper' => 'Patinás Rézblokk',
    'Oxidized' => 'Patinás',
    'Exposed Copper' => 'Megviselt Rézblokk',
    'Exposed' => 'Megviselt',
    'Copper Blocks' => 'Rézblokkok',
    'Copper Block' => 'Rézblokk',
    'Froglights' => 'Varangyfények',
    'Froglight' => 'Varangyfény',
    'Vines' => 'Indák',
    'Mossy Cobblestone' => 'Mohás zúzottkő',
    'Mossy Stone Bricks' => 'Mohás kőtégla',
    'Blackstone' => 'Feketekő',
    'Stone Bricks' => 'Kőtégla',
    'Stone Slabs' => 'Kőlapok',
    'Purpur Slabs' => 'Purpur lapok',
    'Slabs' => 'Lapok',
    'End Stone' => 'Endkő',
    'Sandstone' => 'Homokkő',
    'Soul Sand' => 'Lélekhomok',
    'Stone' => 'Kő',
    'Tuff' => 'Tufa',
    'Golden' => 'Aranyló',
    'Goldkin' => 'Aranykin',
    'Gold' => 'Arany',
    'Iron' => 'Vas',
    'Diamond' => 'Gyémánt',
    'Copper' => 'Réz',
    'Purpur' => 'Purpur',
    'Nether Quartz' => 'Netherkvarc',
    'Quartz' => 'Kvarc',
    'Pumpkins' => 'Tökök',
    'Pumpkin' => 'Tök',
    'Pointed Dripstone' => 'Hegyes cseppkő',
    'Dripstone' => 'Cseppkő',
    'Glazed' => 'Mázas',
    'Dark Prismarine' => 'Sötét prizmarin',
    'Prismarine' => 'Prizmarin',
    'Sponges' => 'Szivacsok',
    'Sponge' => 'Szivacs',
    'Trapdoors' => 'Csapóajtók',
    'Trapdoor' => 'Csapóajtó',
    'Doors' => 'Ajtók',
    'Door' => 'Ajtó',
    'Soul Lanterns' => 'Léleklámpások',
    'Soul Lantern' => 'Léleklámpás',
    'Sea Lanterns' => 'Tengeri lámpások',
    'Sea Lantern' => 'Tengeri lámpás',
    'Lanterns' => 'Lámpások',
    'Lantern' => 'Lámpás',
    'Powder Snow' => 'Porhó',
    'Snow Blocks' => 'Hóblokkok',
    'Snow Block' => 'Hóblokk',
    'Snow' => 'Hó',
    'Shroomlights' => 'Fényspórák',
    'Shroomlight' => 'Fényspóra',
    'Blue Ice' => 'Kék jég',
    'Ice' => 'Jég',
    'Arrow Mud' => 'Nyílsár',
    'Button Mud' => 'Gombsár',
    'Mud' => 'Iszap',
    'Melons' => 'Dinnyék',
    'Melon' => 'Dinnye',
    'Bookshelves' => 'Könyvespolcok',
    'Bookshelf' => 'Könyvespolc',
    'Nether Bricks' => 'Nethertégla',
    'Nether Brick' => 'Nethertégla',
    'Bricks' => 'Tégla',
    'Brick' => 'Tégla',
    'Crates' => 'Dobozok',
    'Crate' => 'Doboz',
    'Ochre' => 'Okker',
    'Pearlescent' => 'Gyöngyházfényű',
    'Verdant' => 'Zöld',
    'Amethyst Blocks' => 'Ametisztblokkok',
    'Amethyst Block' => 'Ametisztblokk',
    'Amethyst Clusters' => 'Ametitszt-kristálycsoportok',
    'Amethyst Cluster' => 'Ametiszt-kristálycsoport',
    'Ancient Debris' => 'Ősi törmelék',
    'Andesite' => 'Andezit',
    'Diorite' => 'Diorit',
    'Granite' => 'Gránit',
    'Gravel' => 'Sóder',
    'Calcite' => 'Kalcit',
    'Coal Blocks' => 'Szénblokkok',
    'Coal Block' => 'Szénblokk',
    'Coal' => 'Szén',
    'Cobblestone' => 'Zúzottkő',
    'Deepslate Bricks' => 'Mélypalatégla',
    'Deepslate' => 'Mélypala',
    'Lodestone' => 'Iránykő',
    'Lapis Blocks' => 'Lazuritblokkok',
    'Lapis Block' => 'Lazuritblokk',
    'Ash' => 'Hamu',
    'Basalt' => 'Bazalt',
    'Lily Pads' => 'Tavirózsák',
    'Lily Pad' => 'Tavirózsa',
    'Moss Blocks' => 'Mohás blokkok',
    'Moss Block' => 'Mohás blokk',
    'Paper' => 'Papír',
    'Nether Sprouts' => 'Nethercsírák',
    'Bars' => 'Rács',
    'Jack O Lantern' => 'Töklámpás',
    'Tiles' => 'Csempék',
    'Clay' => 'Agyag',
    'Cobweb' => 'Pókháló',
    'Ladder' => 'Létra',
    'Ropeplank' => 'Kötél',
    'Planked' => 'Deszkás',
    'Plank' => 'Deszka',
    'Glowstone Dust' => 'Izzókőpor',
    'Glowstone' => 'Izzókő',
    'Hay Block' => 'Szalmabála',
    'Sugarcane' => 'Cukornád',
    'Roots' => 'Gyökerek',
    'Star' => 'Csillag',
    'Sifted' => 'Szitált',
    'Shuttered' => 'Redőnyös',
    'Shimmering' => 'Ragyogó',
    'Shifted' => 'Eltolt',
    'Shelved' => 'Polcos',
    'Shackled' => 'Láncos',
    'Remnants' => 'Maradványok',
    'Pointless' => 'Értelmetlen',
    'Plated' => 'Bevonatos',
    'Woven' => 'Szőtt',
    'Woved' => 'Szőtt',
    'Speckled' => 'Pöttyös',
    'Solid' => 'Szilárd',
    'Sigil' => 'Szimbólumos',
    'Sighthole' => 'Látólyukas',
    'Sided' => 'Oldalas',
    'Shrunken' => 'Összement',
    'Shrooming' => 'Gombás',
    'Bone Blocks' => 'Csontblokkok',
    'Bone Block' => 'Csontblokk',
    'Mushroom Bushel' => 'Gombakosár',
  ],
  [
    // Chipped ...
    'Tiled' => 'Csempézett',
    'Thick' => 'Vastag',
    'Smoothed' => 'Simított',
    'Smooth' => 'Sima',
    'Sanded' => 'Smirgelt',
    'Sandy' => 'Homokos',
    'Sand' => 'Homok',
    'Ornate' => 'Díszes',
    'Inscribed' => 'Beírt',
    'Flat' => 'Lapos',
    'Hived' => 'Méhkasos',
    'Layered' => 'Rétegzett',
    'Ringed' => 'Gyűrűzött',
    'Polished' => 'Csiszolt',
    'Spiraled' => 'Spirálozott',
    'Trodden' => 'Kitaposott',
    'Tiny' => 'Apró',
    'Small' => 'Kicsi',
    'Wickered' => 'Kosárfonatos',
    'Bond' => 'Kötés',
    'Slanted' => 'Dőlt',
    'High' => 'Magas',
    'Large' => 'Nagy',
    'Floor' => 'Padló',
    'Reinforced' => 'Erősített',
    'Ribbled' => 'Ráncos',
    'Ring' => 'Gyűrű',
    'Rich' => 'Gazdag',
    'Twisted' => 'Csavart',
    'Umbrella' => 'Esernyő',
    'Unamused' => 'Szórakozatlan',
    'Varnished' => 'Lakkozott',
    'Vertical' => 'Függőleges',
    'Striped' => 'Csíkos',
    'Preview' => 'Előnézet',
    'Craft All' => 'Mind készítése',
    'Craft' => 'Készítés',
    'Horizontal' => 'Vízszintes',
    'Single' => 'Egyszeres',
    'Two by Two' => 'Kettesével',
    'Young' => 'Fiatal',
    'Zippered' => 'Cipzáras',
    'Wet' => 'Nedves',
    'Waved' => 'Hullámos',
    'Watching' => 'Figyelő',
    'Warted' => 'Bibircsókos',
    'Warty' => 'Bibircsós',
    'Warning' => 'Figyelmeztető',
    'Warm' => 'Meleg',
    'Vined' => 'Indás',
    'Railed' => 'Sínelt',
    'Stiped' => 'Csíkos',
    'Webbed' => 'Hálós',
    'Lighted' => 'Könnyített',
    'Tripped' => 'Megbotlott',
    'Triangular' => 'Háromszög alakú',
    'Trampled' => 'Taposott',
    'Traditional' => 'Hagyományos',
    'Tile Windowed' => 'Ablakcsempés',
    'Tied' => 'Kötött',
    'Thorned' => 'Tüskés',
    'Thin' => 'Vékony',
    'Thicc' => 'Vastag',
    'Symbol' => 'Szimbólum',
    'Swampy' => 'Mocsaras',
    'Sunny' => 'Napos',
    'Suspicious' => 'Gyanús',
    'Supported' => 'Támogatott',
    'Sturdy' => 'Merevített',
    'Strong' => 'Erős',
    'Stringed' => 'Húros',
    'Stretched' => 'Nyújtott',
    'Sticky' => 'Ragadós',
    'Stern' => 'Szigorú',
    'Stepped' => 'Lépcsős',
    'Starry' => 'Csillagos',
    'Stacked' => 'Rakott',
    'Square' => 'Négyzetes',
    'Spider' => 'Pók',
    'Special' => 'Különleges',
    'Rounded' => 'Kerekített',
    'Rune' => 'Rúna',
    'Runic' => 'Rúnás',
    'Rusted' => 'Rozsdás',
    'Sad' => 'Szomorú',
    'Scaly' => 'Pikkelyes',
    'Screen' => 'Képernyős',
    'Rectangle' => 'Téglalap',
    'Raster' => 'Raszter',
    'Quad' => 'Négyszög',
    'Prismal' => 'Prizmás',
    'Pearl' => 'Gyöngy',
    'Pegged' => 'Tüskés',
    'Paved' => 'Burkolt',
    'Overlapping' => 'Átfedő',
    'Overgrown' => 'Burjánzó',
    'Old' => 'Régi',
    'Offset' => 'Eltolt',
    'Nice' => 'Szép',
    'Natural' => 'Természetes',
    'Nailed' => 'Szögezett',
    'Minimized' => 'Kicsinyített',
    'Mini' => 'Mini',
    'Meshed' => 'Hálós',
    'Metal' => 'Fém',
    'Massive' => 'Hatalmas',
    'Leafy' => 'Leveles',
    'Leaf' => 'Levél',
    'Leaning' => 'Dőlő',
    'Layed' => 'Lefektetett',
    'Laced' => 'Húzott',
    'Knotted' => 'Kötött',
    'Knitted' => 'Kötött',
    'Short' => 'Rövid',
    'Worn' => 'Kopott',
    'Mossy' => 'Mohás',
    'Wooden' => 'Fa',
    'Rotted' => 'Rohadt',
    'Rotten' => 'Rohadt',
    'Ripe' => 'Érett',
    'Poisonous' => 'Mérgező',
    'Patched' => 'Foltos',
    'Pale' => 'Sápadt',
    'Glad' => 'Örülő',
    'Simple' => 'Egyszerű',
    'Loded' => 'Töltött',
    'Heart' => 'Szíves',
    'Placed' => 'Elhelyezett',
    'Panelled' => 'Panelos',
    'Pancacke' => 'Palacsinta',
    'Keyhole' => 'Zárszerű',
    'Horned' => 'Szarvazott',
    'Wicked' => 'Boszorkányos',
    'Stringy' => 'Húros',
    'Scattered' => 'Szétszórt',
    'Hooded' => 'Kalapos',
    'Spongy' => 'Szivacsos',
    'Cluster' => 'Csoport',
    'Bushel' => 'Kosár',
    'Bulb' => 'Hagyma',
    'Witted' => 'Okos',
    'Sprouting' => 'Csírázó',
    'Bramble' => 'Bogáncs',
    'Shroomy' => 'Gombás',
    'Grizly' => 'Szörnyű',
    'Dried' => 'Szárított',
    'Porous' => 'Pórusos',
    'Scabbed' => 'Pattanásos',
    'Tubed' => 'Csöves',

    // Chiped workstatins
    'Chisel' => 'Véső',
    'Needles' => 'Tűk',
  ],
  [
    'Sea' => 'Tengeri',
    'Wart' => 'Bibircsókos',
    'Light' => 'Világos',
  ],
  // Create Deco
  [
    'Catwalk' => 'Futóhíd',
    'Stairs' => 'Lépcsők',
    'Stair' => 'Lépcső',
    'Train Hull' => 'Vonattest',
    'Mesh Fence' => 'Hálós kerítés',
    'Lemez Fém' => 'Fémlemez',
    'Lemez Slab' => 'Lemezlap',
    'Lemez Lépcsők' => 'Lemezlépcsők',
    'Decal' => 'Matrica',
    'Placard' => 'Plakát',
    'Cage' => 'Kalitkás',
    'Wall' => 'Fal',
    'Slab' => 'Lap',
    'Cast Vas' => 'Öntöttvas',
    'Support' => 'Tartó',
    'Coinstack' => 'Érmehalom',
    'Coin' => 'Érme',
    'Scarlet' => 'Skarlát',
    'Dusk Tégla' => 'Alkonyattégla',
  ],
];

$fh = fopen($src, 'r');
if ($fh === false) die("Cannot open file: $src\n");
if ($dst !== null) $fh2 = fopen($dst, 'w');

while (($line = fgets($fh)) !== false) {
  $line = trim($line);
  // Skip empty lines
  if (empty($line)) continue;
  // Replace words
  foreach($words as $wordlist)
    foreach($wordlist as $key => $value)
      $line = str_replace($key, $value, $line);
  // Fix mixed case words after replacements
  $line = preg_replace_callback('/\b[A-Z][a-z]+\b/', function($m) {
    return ucfirst(strtolower($m[0]));
  }, $line);
  if ($dst === null) // If no destination file, print to stdout
    echo "$line\n";
  else fwrite($fh2, "$line\n"); // Write to file
}
fclose($fh);
if ($dst !== null) fclose($fh2);
